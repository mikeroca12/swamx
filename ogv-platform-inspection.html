<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OGV Platform Inspection | MOC Toolbox</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #1b2a45;
  --frame: #223352;
  --frame-border: #2e4368;
  --surface: #e2e7ef;
  --surface2: #d9dee8;
  --surface3: #cdd3df;
  --border: #c8ceda;
  --border-strong: #b4bcc9;
  --text: #1e293b;
  --text-secondary: #475569;
  --text-dim: #64748b;
  --text-on-dark: #e2e8f0;
  --text-on-dark-dim: #ffffff;
  --green: #16a34a;
  --green-bg: #dcfce7;
  --green-border: #86efac;
  --green-text: #15803d;
  --yellow: #d97706;
  --yellow-bg: #fef3c7;
  --yellow-border: #fcd34d;
  --yellow-text: #b45309;
  --red: #dc2626;
  --red-bg: #fee2e2;
  --red-border: #fca5a5;
  --red-text: #b91c1c;
  --blue: #2563eb;
  --blue-bg: #dbeafe;
  --blue-border: #93c5fd;
  --blue-text: #1d4ed8;
  --accent: #2563eb;
  --card-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --card-shadow-hover: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--text); font-family:'DM Sans',sans-serif; min-height:100vh; line-height:1.5; }

/* NAV BAR */
.nav-bar {
  background:var(--frame); border-bottom:1px solid var(--frame-border);
  padding:10px 24px; display:flex; align-items:center; gap:14px;
  font-family:'DM Sans',sans-serif; font-size:14px;
}
.nav-bar a { color:var(--text-on-dark-dim); text-decoration:none; transition:color 0.15s; }
.nav-bar a:hover { color:var(--text-on-dark); }
.nav-bar .nav-logo { display:flex; align-items:center; gap:8px; }
.nav-bar .nav-title { font-weight:700; color:var(--text-on-dark); }
.nav-bar .nav-title span { color:#3b82f6; }
.nav-bar .nav-sep { color:var(--frame-border); }
.nav-bar img { height:28px; }

/* HEADER */
.header {
  background:var(--frame); border-bottom:1px solid var(--frame-border);
  padding:14px 24px; display:flex; align-items:center; justify-content:space-between;
  position:sticky; top:0; z-index:100;
}
.header-left { display:flex; align-items:center; gap:14px; flex-wrap:wrap; }
.header h1 { font-family:'JetBrains Mono',monospace; font-size:15px; font-weight:700; letter-spacing:-0.5px; color:var(--text-on-dark); }
.header-ref {
  font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--text-on-dark-dim);
  background:rgba(255,255,255,0.08); padding:3px 10px; border-radius:4px; border:1px solid var(--frame-border);
}
.back-btn, .reset-btn {
  background:rgba(255,255,255,0.1); border:1px solid var(--frame-border); color:var(--text-on-dark-dim);
  font-family:'DM Sans',sans-serif; font-size:13px; padding:6px 14px; border-radius:6px;
  cursor:pointer; transition:all 0.15s;
}
.back-btn:hover, .reset-btn:hover { background:rgba(255,255,255,0.15); color:var(--text-on-dark); }
.back-btn { display:none; }

/* CONTAINER */
.container { max-width:820px; margin:0 auto; padding:28px 24px 80px; }

/* GRID */
.grid-title { font-size:12px; font-weight:600; color:var(--text-on-dark-dim); margin-bottom:14px; letter-spacing:1px; text-transform:uppercase; font-family:'JetBrains Mono',monospace; }
.component-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:10px; }
.comp-tile {
  background:var(--surface); border:1px solid var(--border); border-radius:10px;
  padding:14px 16px; cursor:pointer; transition:all 0.2s;
  display:flex; flex-direction:column; gap:5px; box-shadow:var(--card-shadow);
}
.comp-tile:hover { border-color:var(--accent); box-shadow:var(--card-shadow-hover); transform:translateY(-1px); }
.comp-fig { font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--text-dim); }
.comp-name { font-size:14px; font-weight:700; color:var(--text); overflow-wrap:break-word; }
.comp-critical { font-size:11px; font-weight:600; padding:3px 8px; border-radius:4px; display:inline-block; width:fit-content; }
.crit-red { background:var(--red-bg); color:var(--red-text); border:1px solid var(--red-border); }
.crit-green { background:var(--green-bg); color:var(--green-text); border:1px solid var(--green-border); }
.crit-yellow { background:var(--yellow-bg); color:var(--yellow-text); border:1px solid var(--yellow-border); }

/* DETAIL VIEW */
#detailView { display:none; }
.detail-section-label { font-family:'JetBrains Mono',monospace; font-size:10px; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--text-on-dark-dim); margin-bottom:4px; }
.detail-title { font-size:20px; font-weight:700; margin-bottom:4px; color:var(--text-on-dark); }
.detail-subtitle { font-size:12px; color:var(--text-on-dark-dim); font-family:'JetBrains Mono',monospace; margin-bottom:20px; }

/* STATUS BOXES */
.status-box { border-radius:10px; padding:14px 16px; margin-bottom:10px; border:1px solid; box-shadow:var(--card-shadow); }
.status-box h4 { font-family:'JetBrains Mono',monospace; font-size:11px; font-weight:700; letter-spacing:1px; margin-bottom:8px; text-transform:uppercase; }
.status-box ul { list-style:none; padding:0; }
.status-box li { font-size:13px; line-height:1.7; padding-left:20px; position:relative; }
.status-box li::before { position:absolute; left:0; font-weight:700; font-size:11px; }

.box-nogo { background:var(--red-bg); border-color:var(--red-border); }
.box-nogo h4 { color:var(--red); }
.box-nogo li { color:var(--red-text); }
.box-nogo li::before { content:"X "; color:var(--red); }

.box-ok { background:var(--green-bg); border-color:var(--green-border); }
.box-ok h4 { color:var(--green); }
.box-ok li { color:var(--green-text); }
.box-ok li::before { content:"OK "; color:var(--green); }

.box-cis { background:var(--yellow-bg); border-color:var(--yellow-border); }
.box-cis h4 { color:var(--yellow); }
.box-cis li { color:var(--yellow-text); }
.box-cis li::before { content:"~ "; color:var(--yellow); }

.box-info { background:var(--blue-bg); border-color:var(--blue-border); }
.box-info h4 { color:var(--blue); }
.box-info li { color:var(--blue-text); }
.box-info li::before { content:"i "; color:var(--blue); }

/* NOTE BOX */
.note-box {
  background:var(--surface); border-left:3px solid var(--accent);
  padding:10px 14px; border-radius:0 8px 8px 0; margin-bottom:10px;
  font-size:12px; color:var(--text-secondary); line-height:1.6; box-shadow:var(--card-shadow);
}
.note-box strong { color:var(--text); }

/* REPAIR REFS */
.repair-refs {
  background:var(--surface); border:1px solid var(--border); border-radius:8px;
  padding:12px 16px; margin-bottom:10px; box-shadow:var(--card-shadow);
}
.repair-refs h4 { font-size:11px; font-weight:600; color:var(--text-dim); margin-bottom:6px; font-family:'JetBrains Mono',monospace; }
.repair-refs p { font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--text-secondary); line-height:1.8; }

/* FIGURE CONTAINERS */
.fig-container {
  background:#ffffff; border:1px solid var(--border); border-radius:10px;
  padding:14px; margin-bottom:10px; box-shadow:var(--card-shadow);
}
.fig-container img {
  width:100%; border-radius:6px;
}
.fig-container .fig-label {
  font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--text-dim); margin-top:8px; text-align:center;
}

/* RESPONSIVE */
@media(max-width:640px) {
  .component-grid { grid-template-columns:1fr; }
  .header { padding:12px 16px; }
  .header h1 { font-size:13px; }
  .container { padding:16px 14px 40px; }
  .detail-title { font-size:17px; }
}
</style>
</head>
<body>

<!-- NAV BAR -->
<div class="nav-bar">
  <a href="index.html" class="nav-logo">
    <img src="logo.webp" alt="Logo">
    <span class="nav-title">MOC <span>Toolbox</span></span>
  </a>
  <span class="nav-sep">|</span>
  <a href="leap-1b.html">Back to LEAP-1B Hub</a>
</div>

<!-- HEADER -->
<div class="header">
  <div class="header-left">
    <h1>OGV Platform Inspection</h1>
    <span class="header-ref">SUBTASK 72-23-00-211-016-G00 | Fig 614 | Rev 26</span>
  </div>
  <div style="display:flex;gap:8px;">
    <button class="back-btn" id="backBtn" onclick="goHome()">Back</button>
    <button class="reset-btn" onclick="goHome()">Start Over</button>
  </div>
</div>

<div class="container">

  <!-- GRID VIEW -->
  <div id="gridView">
    <div class="grid-title">Outer OGV Platforms [12] - Select Component</div>
    <div class="component-grid" id="compGrid"></div>
  </div>

  <!-- DETAIL VIEW -->
  <div id="detailView"></div>

</div>

<script>
const COMPONENTS = [
  {
    section:"Platforms",
    name:"OGV Platforms",
    fig:"614 Sheets 1,2",
    critical:"Erosion not permitted",
    critClass:"crit-red",
    nogo:[
      "Erosion - not permitted"
    ],
    ok:[
      "Cracks - permitted",
      "Broken or missing platforms - up to 3 platforms affected, max 2 consecutive"
    ],
    cis:[],
    notes:"Cracks are explicitly permitted. Up to 3 platforms can be broken or missing as long as no more than 2 are consecutive. Erosion is the only hard no-go.",
    repairs:"",
    figures:[
      {src:"ogv-figures/fig614-sh1-platform-overview.png", label:"Fig 614 Sheet 1 - OGV Platform Overview (Forward View)"},
      {src:"ogv-figures/fig614-sh2-platform-detail.png", label:"Fig 614 Sheet 2 - Typical View of Outer OGV Platforms"}
    ]
  },
  {
    section:"Seals",
    name:"Platform Seals",
    fig:"614 Sheet 2",
    critical:"Through cracks limited to 10%",
    critClass:"crit-yellow",
    nogo:[],
    ok:[
      "Non-through cracks and crazing on seal surface - up to 30% of total length of all platform seals",
      "Through cracks, tears, missing material - up to 10% of total length of all platform seals"
    ],
    cis:[],
    notes:"Two separate limits: surface crazing (non-through) is 30% of total seal length, but through-cracks/tears/missing is only 10%. Measure against total length of ALL platform seals, not individual.",
    repairs:"",
    figures:[
      {src:"ogv-figures/fig614-sh2-platform-detail.png", label:"Fig 614 Sheet 2 - Seal Location on Outer OGV Platforms"}
    ]
  },
  {
    section:"Dampers",
    name:"Platform Dampers",
    fig:"614 Sheet 2",
    critical:"Bent / worn / torn / cut - not permitted",
    critClass:"crit-red",
    nogo:[
      "Bent, worn, torn, or cut dampers - not permitted",
      "Loose or missing dampers - not permitted"
    ],
    ok:[],
    cis:[],
    notes:"Both damage types are repairable to any amount. Repair method: Outer Outlet Guide Vane Platform - Damper Replacement, TASK 72-21-09-960-802-G00.",
    repairs:"72-21-09-960-802-G00 - Outer OGV Platform Damper Replacement",
    figures:[
      {src:"ogv-figures/fig614-sh2-platform-detail.png", label:"Fig 614 Sheet 2 - Damper Locations on Outer OGV Platforms"}
    ]
  },
  {
    section:"Screws",
    name:"Platform Screws",
    fig:"614 Sheet 1",
    critical:"Surface oxidation OK",
    critClass:"crit-green",
    nogo:[],
    ok:[
      "Surface oxidation on screw heads - permitted"
    ],
    cis:[],
    notes:"76 screw locations total. Surface oxidation on screw heads is the only item checked - and it's permitted. Simplest check in this section.",
    repairs:"",
    figures:[
      {src:"ogv-figures/fig614-sh1-platform-overview.png", label:"Fig 614 Sheet 1 - Screw Locations (76 Total)"}
    ]
  }
];

function renderGrid() {
  let html = '';
  COMPONENTS.forEach((c,i) => {
    c._section = c.section;
    html += `
      <div class="comp-tile" onclick="showDetail(${i})">
        <div class="comp-fig">Fig ${c.fig}</div>
        <div class="comp-name">${c.name}</div>
        <span class="comp-critical ${c.critClass}">${c.critical}</span>
      </div>
    `;
  });
  document.getElementById('compGrid').innerHTML = html;
}

function showDetail(idx) {
  const c = COMPONENTS[idx];
  const dv = document.getElementById('detailView');
  document.getElementById('gridView').style.display = 'none';
  dv.style.display = 'block';
  document.getElementById('backBtn').style.display = 'inline-block';
  document.querySelector('.reset-btn').style.display = 'none';

  let html = `
    <div class="detail-section-label">${c._section}</div>
    <div class="detail-title">${c.name}</div>
    <div class="detail-subtitle">Figure ${c.fig} | SUBTASK 72-23-00-211-016-G00</div>
  `;

  if (c.nogo.length) {
    html += `<div class="status-box box-nogo"><h4>Not Permitted - No-Go</h4><ul>${c.nogo.map(n=>`<li>${n}</li>`).join('')}</ul></div>`;
  }
  if (c.ok.length) {
    html += `<div class="status-box box-ok"><h4>Permitted - Within Limits</h4><ul>${c.ok.map(n=>`<li>${n}</li>`).join('')}</ul></div>`;
  }
  if (c.cis.length) {
    html += `<div class="status-box box-cis"><h4>Continue in Service - Deferred Limits</h4><ul>${c.cis.map(n=>`<li>${n}</li>`).join('')}</ul></div>`;
  }
  if (c.notes) {
    html += `<div class="note-box"><strong>Controller Notes:</strong> ${c.notes}</div>`;
  }
  if (c.repairs) {
    html += `<div class="repair-refs"><h4>Repair References</h4><p>${c.repairs.split('|').join('<br>')}</p></div>`;
  }

  // Inline figures
  if (c.figures && c.figures.length) {
    c.figures.forEach(f => {
      html += `<div class="fig-container"><img src="${f.src}" alt="${f.label}"><div class="fig-label">${f.label}</div></div>`;
    });
  }

  dv.innerHTML = html;
  window.scrollTo(0,0);
}

function goHome() {
  document.getElementById('detailView').style.display = 'none';
  document.getElementById('gridView').style.display = 'block';
  document.getElementById('backBtn').style.display = 'none';
  document.querySelector('.reset-btn').style.display = 'inline-block';
  window.scrollTo(0,0);
}

renderGrid();
</script>
</body>
</html>
