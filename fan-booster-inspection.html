<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fan & Booster Module Inspection | MOC Toolbox</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&family=Outfit:wght@700;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #1b2a45;
  --frame: #223352;
  --frame-border: #2e4368;
  --surface: #e2e7ef;
  --surface2: #d9dee8;
  --surface3: #cdd3df;
  --border: #c8ceda;
  --border-strong: #b4bcc9;
  --text: #1e293b;
  --text-secondary: #475569;
  --text-dim: #64748b;
  --text-on-dark: #e2e8f0;
  --text-on-dark-dim: #ffffff;
  --green: #16a34a;
  --green-bg: #dcfce7;
  --green-border: #86efac;
  --green-text: #15803d;
  --yellow: #d97706;
  --yellow-bg: #fef3c7;
  --yellow-border: #fcd34d;
  --yellow-text: #b45309;
  --red: #dc2626;
  --red-bg: #fee2e2;
  --red-border: #fca5a5;
  --red-text: #b91c1c;
  --blue: #2563eb;
  --blue-bg: #dbeafe;
  --blue-border: #93c5fd;
  --blue-text: #1d4ed8;
  --accent: #2563eb;
  --card-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --card-shadow-hover: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--text); font-family:'DM Sans',sans-serif; min-height:100vh; line-height:1.5; }

/* NAV BAR */
.nav-bar {
  background:var(--frame); border-bottom:1px solid var(--frame-border);
  padding:10px 24px; display:flex; align-items:center; gap:14px;
  font-family:'DM Sans',sans-serif; font-size:14px;
}
.nav-bar a { color:var(--text-on-dark-dim); text-decoration:none; transition:color 0.15s; }
.nav-bar a:hover { color:var(--text-on-dark); }
.nav-bar .nav-logo { display:flex; align-items:center; gap:8px; }
.nav-bar .nav-logo-text { display:flex; flex-direction:column; }
.nav-bar .nav-title { font-family:'Outfit',sans-serif; font-weight:900; color:var(--text-on-dark); line-height:1.2; }
.nav-bar .nav-ref { font-family:'JetBrains Mono',monospace; font-size:7px; font-weight:600; letter-spacing:1.5px; color:#ef4444; text-transform:uppercase; font-style:italic; }
.nav-bar .nav-title span { color:#3b82f6; }
.nav-bar .nav-sep { color:var(--frame-border); }
.nav-bar img { height:28px; }

/* HEADER */
.header {
  background:var(--frame); border-bottom:1px solid var(--frame-border);
  padding:14px 24px; display:flex; align-items:center; justify-content:space-between;
  position:sticky; top:0; z-index:100;
}
.header-left { display:flex; align-items:center; gap:14px; flex-wrap:wrap; }
.header h1 { font-family:'JetBrains Mono',monospace; font-size:15px; font-weight:700; letter-spacing:-0.5px; color:var(--text-on-dark); }
.header-ref {
  font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--text-on-dark-dim);
  background:rgba(255,255,255,0.08); padding:3px 10px; border-radius:4px; border:1px solid var(--frame-border);
}
.back-btn, .reset-btn {
  background:rgba(255,255,255,0.1); border:1px solid var(--frame-border); color:var(--text-on-dark-dim);
  font-family:'DM Sans',sans-serif; font-size:13px; padding:6px 14px; border-radius:6px;
  cursor:pointer; transition:all 0.15s;
}
.back-btn:hover, .reset-btn:hover { background:rgba(255,255,255,0.15); color:var(--text-on-dark); }
.back-btn { display:none; }

/* CONTAINER */
.container { max-width:820px; margin:0 auto; padding:28px 24px 80px; }

/* ETOPS */
.etops-note {
  background:var(--yellow-bg); border:1px solid var(--yellow-border); border-radius:10px;
  padding:10px 14px; margin-bottom:20px; font-size:12px; color:var(--yellow-text);
  font-family:'JetBrains Mono',monospace; line-height:1.6; box-shadow:var(--card-shadow);
}

/* PREP COLLAPSIBLE */
.collapsible-toggle {
  background:var(--surface); border:1px solid var(--border); border-radius:10px;
  padding:12px 16px; cursor:pointer; display:flex; align-items:center;
  justify-content:space-between; margin-bottom:12px; transition:all 0.15s; box-shadow:var(--card-shadow);
}
.collapsible-toggle:hover { border-color:var(--accent); box-shadow:var(--card-shadow-hover); }
.collapsible-toggle.open { border-radius:10px 10px 0 0; border-bottom-color:transparent; margin-bottom:0; }
.collapsible-toggle h4 { font-size:13px; font-weight:600; color:var(--text-secondary); }
.collapsible-toggle .arrow { color:var(--text-dim); transition:transform 0.2s; font-size:14px; }
.collapsible-toggle.open .arrow { transform:rotate(180deg); }
.collapsible-content {
  display:none; background:var(--surface); border:1px solid var(--border);
  border-top:none; border-radius:0 0 10px 10px; padding:14px 16px; margin-top:0; margin-bottom:12px;
}
.collapsible-content.open { display:block; }
.collapsible-content table { width:100%; border-collapse:collapse; font-size:12px; }
.collapsible-content th { text-align:left; padding:6px 8px; color:var(--text-dim); font-family:'JetBrains Mono',monospace; font-size:11px; border-bottom:1px solid var(--border); }
.collapsible-content td { padding:6px 8px; color:var(--text); border-bottom:1px solid rgba(200,206,218,0.5); }

/* GRID */
.grid-title { font-size:12px; font-weight:600; color:var(--text-on-dark-dim); margin-bottom:14px; letter-spacing:1px; text-transform:uppercase; font-family:'JetBrains Mono',monospace; }
.component-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:10px; }
.comp-tile {
  background:var(--surface); border:1px solid var(--border); border-radius:10px;
  padding:14px 16px; cursor:pointer; transition:all 0.2s;
  display:flex; flex-direction:column; gap:5px; box-shadow:var(--card-shadow);
}
.comp-tile:hover { border-color:var(--accent); box-shadow:var(--card-shadow-hover); transform:translateY(-1px); }
.comp-tile-header { display:flex; align-items:center; justify-content:space-between; }
.comp-num {
  font-family:'JetBrains Mono',monospace; font-size:11px; font-weight:700;
  background:var(--blue-bg); color:var(--blue-text); padding:2px 8px; border-radius:4px; border:1px solid var(--blue-border);
}
.comp-fig { font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--text-dim); }
.comp-name { font-size:14px; font-weight:700; color:var(--text); overflow-wrap:break-word; }
.comp-critical { font-size:11px; font-weight:600; padding:3px 8px; border-radius:4px; display:inline-block; width:fit-content; }
.crit-red { background:var(--red-bg); color:var(--red-text); border:1px solid var(--red-border); }
.crit-green { background:var(--green-bg); color:var(--green-text); border:1px solid var(--green-border); }
.crit-yellow { background:var(--yellow-bg); color:var(--yellow-text); border:1px solid var(--yellow-border); }

/* DETAIL VIEW */
#detailView { display:none; }
.detail-title { font-size:20px; font-weight:700; margin-bottom:4px; color:var(--text-on-dark); }
.detail-subtitle { font-size:12px; color:var(--text-on-dark-dim); font-family:'JetBrains Mono',monospace; margin-bottom:20px; }

/* STATUS BOXES */
.status-box { border-radius:10px; padding:14px 16px; margin-bottom:10px; border:1px solid; box-shadow:var(--card-shadow); }
.status-box h4 { font-family:'JetBrains Mono',monospace; font-size:11px; font-weight:700; letter-spacing:1px; margin-bottom:8px; text-transform:uppercase; }
.status-box ul { list-style:none; padding:0; }
.status-box li { font-size:13px; line-height:1.7; padding-left:20px; position:relative; }
.status-box li::before { position:absolute; left:0; font-weight:700; font-size:11px; }

.box-nogo { background:var(--red-bg); border-color:var(--red-border); }
.box-nogo h4 { color:var(--red); }
.box-nogo li { color:var(--red-text); }
.box-nogo li::before { content:"X "; color:var(--red); }

.box-ok { background:var(--green-bg); border-color:var(--green-border); }
.box-ok h4 { color:var(--green); }
.box-ok li { color:var(--green-text); }
.box-ok li::before { content:"OK "; color:var(--green); }

.box-cis { background:var(--yellow-bg); border-color:var(--yellow-border); }
.box-cis h4 { color:var(--yellow); }
.box-cis li { color:var(--yellow-text); }
.box-cis li::before { content:"~ "; color:var(--yellow); }

.box-info { background:var(--blue-bg); border-color:var(--blue-border); }
.box-info h4 { color:var(--blue); }
.box-info li { color:var(--blue-text); }
.box-info li::before { content:"i "; color:var(--blue); }

/* NOTE BOX */
.note-box {
  background:var(--surface); border-left:3px solid var(--accent);
  padding:10px 14px; border-radius:0 8px 8px 0; margin-bottom:10px;
  font-size:12px; color:var(--text-secondary); line-height:1.6; box-shadow:var(--card-shadow);
}
.note-box strong { color:var(--text); }

/* DIMS */
.dims-section { margin-bottom:10px; }
.dims-section .collapsible-content table th { font-size:10px; }

/* REPAIR REFS */
.repair-refs {
  background:var(--surface); border:1px solid var(--border); border-radius:8px;
  padding:12px 16px; margin-bottom:10px; box-shadow:var(--card-shadow);
}
.repair-refs h4 { font-size:11px; font-weight:600; color:var(--text-dim); margin-bottom:6px; font-family:'JetBrains Mono',monospace; }
.repair-refs p { font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--text-secondary); line-height:1.8; }

/* FIGURE IMAGES - INLINE */
.fig-section { margin-bottom:10px; }
.fig-section-title {
  font-family:'JetBrains Mono',monospace; font-size:11px; font-weight:700;
  color:var(--text-on-dark-dim); letter-spacing:1px; text-transform:uppercase;
  margin-bottom:8px;
}
.fig-gallery {
  display:flex; flex-direction:column; gap:10px;
  background:#ffffff; border:1px solid var(--border); border-radius:10px;
  padding:14px; box-shadow:var(--card-shadow);
}
.fig-gallery img {
  width:100%; border-radius:6px; border:1px solid var(--border);
  cursor:pointer; transition:all 0.15s; background:white;
}
.fig-gallery img:hover { border-color:var(--accent); box-shadow:var(--card-shadow-hover); }
.fig-label { font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--text-dim); margin-bottom:4px; }

/* LIGHTBOX */
.lightbox {
  display:none; position:fixed; inset:0; background:rgba(0,0,0,0.9);
  z-index:1000; align-items:center; justify-content:center; cursor:zoom-out;
}
.lightbox.open { display:flex; }
.lightbox img { max-width:95vw; max-height:95vh; border-radius:4px; }
.lightbox-close {
  position:fixed; top:16px; right:20px; color:white; font-size:28px;
  cursor:pointer; z-index:1001; font-family:sans-serif; line-height:1;
}

/* RESPONSIVE */
@media(max-width:640px) {
  .component-grid { grid-template-columns:1fr; }
  .header { padding:12px 16px; }
  .header h1 { font-size:13px; }
  .container { padding:16px 14px 40px; }
  .detail-title { font-size:17px; }
}
</style>
</head>
<body>

<!-- NAV BAR -->
<div class="nav-bar">
  <a href="index.html" class="nav-logo">
    <img src="logo.webp" alt="Logo">
    <div class="nav-logo-text"><span class="nav-title">MOC <span>Toolbox</span></span><span class="nav-ref">For reference use only</span></div>
  </a>
  <span class="nav-sep">|</span>
  <a href="leap-1b.html">Back to LEAP-1B Hub</a>
</div>

<!-- HEADER -->
<div class="header">
  <div class="header-left">
    <h1>Fan & Booster Module Inspection</h1>
    <span class="header-ref">TASK 72-22-00-200-808-G00 | Rev 26</span>
  </div>
  <div style="display:flex;gap:8px;">
    <button class="back-btn" id="backBtn" onclick="goHome()">Back</button>
    <button class="reset-btn" onclick="goHome()">Start Over</button>
  </div>
</div>

<div class="container">

  <div class="etops-note">
    ETOPS SIGNIFICANT SYSTEM - Steps in this task may disturb an ETOPS significant system. If accomplished on an ETOPS aircraft, refer to MPM Chapter 46.
  </div>

  <!-- PREP -->
  <div class="collapsible-toggle" onclick="toggleEl(this)">
    <h4>Prepare for Inspection (Prerequisites)</h4>
    <span class="arrow">&#9660;</span>
  </div>
  <div class="collapsible-content">
    <table>
      <tr><th>Step</th><th>Action</th></tr>
      <tr><td>1</td><td>ENGINE START switch (P5 overhead) - AUTO or OFF. Tag STD-858.</td></tr>
      <tr><td>2</td><td>START LEVER switch (P10 control stand) - CUTOFF. Tag STD-858.</td></tr>
      <tr><td>3</td><td>Open CB: CAPT P18-2 Row B Col 8 (C01103) ENG 1 START VALVE</td></tr>
      <tr><td>4</td><td>Open CB: F/O P6-2 Row C Col 4 (C00154) ENG 2 START VALVE</td></tr>
    </table>
  </div>

  <!-- GRID VIEW -->
  <div id="gridView">
    <div class="grid-title">Select Component to Inspect</div>
    <div class="component-grid" id="compGrid"></div>
  </div>

  <!-- DETAIL VIEW -->
  <div id="detailView"></div>

</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <span class="lightbox-close" onclick="closeLightbox()">X</span>
  <img id="lightboxImg" src="" alt="Figure">
</div>

<script>
const COMPONENTS = [
  {
    num:"1", name:"Front Spinner", fig:"601", sheets:2,
    critical:"Cracks NOT permitted", critClass:"crit-red",
    nogo:[
      "Cracks - not permitted anywhere",
      "Missing coating on Area C inner surfaces (internal + aft flange surfaces)",
      "Missing coating on Area G (spinner attachment pads + aft flange lateral surfaces)"
    ],
    ok:[
      "Dents - up to 0.019\" (0.5mm) depth, 0.19\" (5mm) length",
      "Nicks - up to 0.019\" (0.5mm) depth, 0.19\" (5mm) length",
      "Scratches - up to 0.019\" (0.5mm) depth, 0.19\" (5mm) length",
      "Missing black paint - OK if no corrosion mark (white mushroom pattern)",
      "Missing primer - OK if no corrosion mark visible",
      "Missing sulfuric anodizing - OK if no corrosion mark visible",
      "Missing white spiral mark on Area D - permitted",
      "Bolt thread contact marks (DIA B) - up to 0.003\" (0.1mm)"
    ],
    cis:[
      "Dents exceeding limits - 100 cyc / 150 hrs if up to 0.055\" depth, 0.55\" length",
      "Nicks exceeding limits - 100 cyc / 150 hrs if up to 0.055\" depth, 0.55\" length",
      "Scratches exceeding limits - 100 cyc / 150 hrs if up to 0.055\" depth, 0.55\" length",
      "Missing paint with corrosion visible - 100 cyc / 150 hrs",
      "Area A dents/nicks/scratches - 100 cyc / 150 hrs if up to 0.03\" depth, 0.39\" length",
      "Area E dents/nicks/scratches - 100 cyc / 150 hrs if up to 0.047\" depth, 0.47\" length"
    ],
    dims:[
      {dim:"DIM A (erosion)", range:"0.1693\" - 0.1850\" (4.30-4.70mm), DIM U min 0.4382\""}
    ],
    notes:"Area C = complete internal + aft flange surfaces. Area G = spinner attachment pads + corresponding lateral surfaces of aft flange.",
    repairs:""
  },
  {
    num:"2", name:"Front Spinner Cup", fig:"602", sheets:1,
    critical:"Extremely tight limits (0.003\")", critClass:"crit-yellow",
    nogo:[],
    ok:[
      "Dents - up to 0.003\" (0.1mm) depth and 0.003\" (0.1mm) length",
      "Nicks - up to 0.003\" (0.1mm) depth and 0.003\" (0.1mm) length",
      "Scratches - up to 0.003\" (0.1mm) depth and 0.003\" (0.1mm) length"
    ],
    cis:[],
    dims:[
      {dim:"DIM A (hole peening)", range:"0.2717\" - 0.2803\" (6.90-7.12mm)"},
      {dim:"DIM B (peening/fretting/wear)", range:"0.0426\" - 0.0519\" (1.08-1.32mm)"}
    ],
    notes:"All limits are the same for dents, nicks, and scratches. Very tight tolerances - 0.003\" max.",
    repairs:""
  },
  {
    num:"3", name:"Platform Front Shroud", fig:"603", sheets:5,
    critical:"Cracks NOT permitted / Self-lock nuts critical", critClass:"crit-red",
    nogo:[
      "Cracks - not permitted (upper or lower side)",
      "Rotating crimped self-locking nuts - not permitted",
      "Self-locking nut loss of locking (torque < 3.5 in-lb / 0.4 N-m) - not serviceable",
      "Self-locking nut looseness - not serviceable",
      "Self-locking nut missing - not serviceable",
      "Self-locking nut cracked - not serviceable",
      "Internal thread bent/torn/worn/missing - not serviceable"
    ],
    ok:[
      "Upper side: Dents/nicks/scratches up to 0.003\" depth, 0.11\" length",
      "Lower side: Dents/nicks/scratches up to 0.003\" depth, 0.07\" length",
      "Area A1 (outer): up to 0.0019\" depth any length, or 0.0039\" depth / 0.0393\" length",
      "Area A2 (inner): up to 0.0007\" depth any length, or 0.0015\" depth / 0.0157\" length",
      "Area B: Dents/nicks up to 0.0031\" depth and 0.0031\" length",
      "Area C: Dents/nicks up to 0.0023\" depth, 0.0027\" length",
      "Area D: Stains with no depth - permitted",
      "Area P: Dents/nicks up to 0.0023\" depth, 0.0027\" length or 0.0007\" depth all lengths"
    ],
    cis:[
      "Area A1 - 2000 cyc if up to 0.0295\" depth, or 800 cyc if up to 0.00551\" depth",
      "Area A2 - 2000 cyc if up to 0.0098\" depth, or 800 cyc if up to 0.0157\" depth"
    ],
    dims:[
      {dim:"DIM L", range:"0.0749\" - 0.0826\" (1.90-2.10mm)"},
      {dim:"DIM N", range:"0.1733\" - 0.1811\" (4.40-4.60mm)"},
      {dim:"DIA C", range:"17.8000\" - 17.8039\" (452.12-452.22mm)"},
      {dim:"DIM M", range:"0.1162\" - 0.1200\" (2.95-3.05mm)"},
      {dim:"DIA B", range:"15.9433\" - 15.9456\" (404.96-405.02mm)"}
    ],
    notes:"Upper/lower boundary = 0.08\" (2mm) from edge. Self-locking nut issues all reference TASK 72-22-00-900-801-G00.",
    repairs:"Self-Locking Shank Nuts: TASK 72-22-00-900-801-G00|Platform Front Shroud Blend Repair: TASK 72-22-00-300-801-G00"
  },
  {
    num:"4", name:"Fan Disk", fig:"604", sheets:5,
    critical:"Cracks NOT permitted / Shot-peened areas very tight", critClass:"crit-red",
    nogo:["Cracks - not permitted anywhere"],
    ok:[
      "Teeth top: Dents/nicks/scratches up to 0.0019\" depth, any length",
      "Teeth top: Contact wear up to 0.0027\" depth, any length",
      "Area C: Dents/nicks/scratches up to 0.0019\" depth, any length",
      "Area E: Dents/nicks/scratches up to 0.0212\" depth, 0.2146\" length",
      "Area F: Dents/nicks/scratches up to 0.00098\" depth, 0.0098\" length",
      "Area K: Stains with no depth - permitted",
      "Area M: Contact marks with no depth - permitted",
      "Area N (shot-peened): Dents/nicks up to 0.0003\" depth",
      "Area J (shot-peened): Dents/nicks up to 0.00098\" depth",
      "Area L (shot-peened): Dents/nicks up to 0.0007\" depth",
      "Area Y: Dents/nicks/scratches up to 0.00098\" depth, 0.0098\" length",
      "Area Y: Fretting/wear/imprint up to 0.020\" depth"
    ],
    cis:[
      "Teeth top: 2000 cyc if between 0.0019\" and 0.0031\" depth (part must be removed)",
      "Area J: 2000 cyc if between 0.00098\" and 0.0023\" depth",
      "Area L: 2000 cyc if between 0.0007\" and 0.0023\" depth",
      "Area N: Scratches 2000 cyc if between 0.00098\" and 0.0023\" depth"
    ],
    dims:[],
    notes:"With fan disk attached to booster spool, inspection limited to visible areas at 18 counter dovetails. Shot-peened areas N, J, L have extremely tight tolerances.",
    repairs:""
  },
  {
    num:"5", name:"LPC Shaft", fig:"605", sheets:2,
    critical:"No corrosion/cracks/metal loss", critClass:"crit-red",
    nogo:[
      "Corrosion or pitting - not permitted (unpainted areas)",
      "Cracks - not permitted",
      "Metal loss - not permitted",
      "Peeling or blistering of paint - not permitted",
      "Weep plug hole Area K: All damage - not permitted"
    ],
    ok:[
      "Unpainted: Dents/nicks/scratches up to 0.003\" depth, 0.019\" length",
      "Painted: OK if parent material not affected + min 0.00138\" paint remains",
      "Missing paint (except Area P): OK if min 0.00138\" thickness remains",
      "Area P (fwd anti-rotation lugs): Missing paint - permitted"
    ],
    cis:[],
    dims:[
      {dim:"DIM M (Surface V fretting)", range:"0.0977\" - 0.1082\" (2.48-2.75mm)"},
      {dim:"DIM N (Surfaces W/X fretting)", range:"0.0792\" - 0.0842\" (2.01-2.14mm)"},
      {dim:"DIM L", range:"0.4075\" - 0.4153\" (10.35-10.55mm)"}
    ],
    notes:"Paint thickness minimum is 0.00138\" (0.035mm).",
    repairs:"LPC Shaft Paint Touch-up: TASK 72-22-40-300-801-G00"
  },
  {
    num:"6", name:"Low Pressure Compressor Cover", fig:"606", sheets:2,
    critical:"Cracks NOT permitted", critClass:"crit-red",
    nogo:[
      "Cracks - not permitted anywhere",
      "Seal groove Area E: All damage - not permitted",
      "Pitting on DIA A - not permitted",
      "Anti-rotation tang/lug: Breaking or distortion - not permitted",
      "Thread Area F: All damage - not permitted"
    ],
    ok:[
      "Dents/nicks/scratches up to 0.0098\" depth, 0.098\" length"
    ],
    cis:[],
    dims:[
      {dim:"DIA A (fretting/wear)", range:"5.6000\" - 5.6015\" (142.24-142.28mm)"},
      {dim:"DIM C (anti-rotation)", range:"0.3780\" - 0.38582\" (9.60-9.80mm)"},
      {dim:"DIM B", range:"0.1536\" - 0.1614\" (3.90-4.10mm)"},
      {dim:"DIM D", range:"0.1536\" - 0.1614\" (3.90-4.10mm)"}
    ],
    notes:"Seal groove (Area E) is zero-tolerance - any damage is a no-go.",
    repairs:""
  },
  {
    num:"7", name:"LPC Slotted Nut", fig:"607", sheets:1,
    critical:"Cracks NOT permitted", critClass:"crit-red",
    nogo:["Cracks - not permitted"],
    ok:[
      "Missing silver plating - permitted",
      "All areas (except threads/slots): Dents/nicks/scratches up to 0.003\" depth",
      "Area C (slots): Dents/nicks/scratches up to 0.003\" depth"
    ],
    cis:[],
    dims:[],
    notes:"Simple component. Same 0.003\" limit across the board. Missing silver plating is explicitly OK.",
    repairs:""
  },
  {
    num:"8", name:"Balance Weight", fig:"608", sheets:1,
    critical:"Very tight limits (0.0007\")", critClass:"crit-yellow",
    nogo:[],
    ok:[
      "Nicks, dents, scratches - up to 0.0007\" (0.02mm) depth",
      "Fretting or wear - up to 0.0007\" (0.02mm) depth",
      "Contact marks - up to 0.0007\" (0.02mm) depth",
      "Glazing - permitted"
    ],
    cis:[],
    dims:[],
    notes:"Extremely tight - 0.0007\" across all damage types. Glazing is the only thing with no limit.",
    repairs:""
  },
  {
    num:"9/10", name:"Silicone O-Ring & Fan Platform", fig:"609", sheets:1,
    critical:"Cuts on O-ring = REMOVE/REPLACE", critClass:"crit-red",
    nogo:["Cuts on O-ring - NOT permitted. Remove or replace immediately."],
    ok:[
      "O-ring cracks - permitted",
      "O-ring wear - permitted",
      "O-ring missing adhesion - permitted",
      "O-ring distortion - permitted",
      "O-ring torn - permitted",
      "O-ring nicks, dents, scratches - permitted",
      "Partially exposed after assembly - OK if within flowpath profile",
      "Missing silicone O-ring entirely - permitted"
    ],
    cis:[],
    dims:[],
    notes:"ONLY no-go is actual cuts. Everything else - cracks, tears, wear, distortion, even missing entirely - is permitted.",
    repairs:""
  },
  {
    num:"11", name:"Booster Spool", fig:"610", sheets:1,
    critical:"Cracks NOT permitted (Surface A)", critClass:"crit-red",
    nogo:["Cracks on Surface A - not permitted"],
    ok:[
      "Surface A: Nicks/dents/scratches up to 0.00098\" (0.025mm) depth",
      "Surface A: Fretting/wear up to 0.00098\" (0.025mm) depth"
    ],
    cis:[],
    dims:[],
    notes:"With fan disk attached, inspection limited to visible areas at 18 counter dovetails.",
    repairs:""
  },
  {
    num:"--", name:"Flowpath Fairing & Shroud Segments", fig:"611", sheets:1,
    critical:"Surface oxidation on screws = OK", critClass:"crit-green",
    nogo:[],
    ok:["Surface oxidation on screw heads - permitted"],
    cis:[],
    dims:[],
    notes:"Simplest check. Screw heads (8 + 10 locations), segment shroud (2 locations), splitter flow, fairing flow path.",
    repairs:""
  }
];

function renderGrid() {
  document.getElementById('compGrid').innerHTML = COMPONENTS.map((c,i) => `
    <div class="comp-tile" onclick="showDetail(${i})">
      <div class="comp-fig">Fig ${c.fig}</div>
      <div class="comp-name">${c.name}</div>
      <span class="comp-critical ${c.critClass}">${c.critical}</span>
    </div>
  `).join('');
}

function showDetail(idx) {
  const c = COMPONENTS[idx];
  const dv = document.getElementById('detailView');
  document.getElementById('gridView').style.display = 'none';
  dv.style.display = 'block';
  document.getElementById('backBtn').style.display = 'inline-block';
  document.querySelector('.reset-btn').style.display = 'none';

  let html = `
    <div class="detail-title">${c.name}</div>
    <div class="detail-subtitle">Figure ${c.fig} | TASK 72-22-00-200-808-G00</div>
  `;

  if (c.nogo.length) {
    html += `<div class="status-box box-nogo"><h4>Not Permitted - No-Go</h4><ul>${c.nogo.map(n=>`<li>${n}</li>`).join('')}</ul></div>`;
  }
  if (c.ok.length) {
    html += `<div class="status-box box-ok"><h4>Permitted - Within Limits</h4><ul>${c.ok.map(n=>`<li>${n}</li>`).join('')}</ul></div>`;
  }
  if (c.cis.length) {
    html += `<div class="status-box box-cis"><h4>Continue in Service - Deferred Limits</h4><ul>${c.cis.map(n=>`<li>${n}</li>`).join('')}</ul></div>`;
  }
  if (c.notes) {
    html += `<div class="note-box"><strong>Controller Notes:</strong> ${c.notes}</div>`;
  }
  if (c.dims.length) {
    html += `<div class="dims-section"><div class="collapsible-toggle" onclick="toggleEl(this)"><h4>Dimensional Checks (AMT Reference)</h4><span class="arrow">&#9660;</span></div>
      <div class="collapsible-content"><table><tr><th>Dimension</th><th>Permitted Range</th></tr>${c.dims.map(d=>`<tr><td>${d.dim}</td><td>${d.range}</td></tr>`).join('')}</table></div></div>`;
  }
  if (c.repairs) {
    html += `<div class="repair-refs"><h4>Repair References</h4><p>${c.repairs.split('|').join('<br>')}</p></div>`;
  }

  // Figure images - shown inline
  let figImgs = [];
  for (let s = 1; s <= c.sheets; s++) {
    figImgs.push(`images/fig${c.fig}_sheet${s}.jpg`);
  }
  html += `<div class="fig-section">
    <div class="fig-section-title">AMM Figure ${c.fig} - ${c.sheets} sheet${c.sheets>1?'s':''} (click to zoom)</div>
    <div class="fig-gallery">${figImgs.map((src,i) => `<div><div class="fig-label">Sheet ${i+1}</div><img src="${src}" alt="Figure ${c.fig} Sheet ${i+1}" onclick="openLightbox(this.src)"></div>`).join('')}</div>
  </div>`;

  dv.innerHTML = html;
  window.scrollTo(0,0);
}

function goHome() {
  document.getElementById('detailView').style.display = 'none';
  document.getElementById('gridView').style.display = 'block';
  document.getElementById('backBtn').style.display = 'none';
  document.querySelector('.reset-btn').style.display = 'inline-block';
  window.scrollTo(0,0);
}

function toggleEl(el) {
  el.classList.toggle('open');
  el.nextElementSibling.classList.toggle('open');
}

function openLightbox(src) {
  event.stopPropagation();
  document.getElementById('lightboxImg').src = src;
  document.getElementById('lightbox').classList.add('open');
}
function closeLightbox() {
  document.getElementById('lightbox').classList.remove('open');
}
document.addEventListener('keydown', e => { if(e.key==='Escape') closeLightbox(); });

renderGrid();
</script>
</body>
</html>
