<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aft Acoustic Panel Inspection | MOC Toolbox</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #1b2a45;
  --frame: #223352;
  --frame-border: #2e4368;
  --surface: #e2e7ef;
  --surface2: #d9dee8;
  --surface3: #cdd3df;
  --border: #c8ceda;
  --border-strong: #b4bcc9;
  --text: #1e293b;
  --text-secondary: #475569;
  --text-dim: #64748b;
  --text-on-dark: #e2e8f0;
  --text-on-dark-dim: #ffffff;
  --green: #16a34a;
  --green-bg: #dcfce7;
  --green-border: #86efac;
  --green-text: #15803d;
  --yellow: #d97706;
  --yellow-bg: #fef3c7;
  --yellow-border: #fcd34d;
  --yellow-text: #b45309;
  --red: #dc2626;
  --red-bg: #fee2e2;
  --red-border: #fca5a5;
  --red-text: #b91c1c;
  --blue: #2563eb;
  --blue-bg: #dbeafe;
  --blue-border: #93c5fd;
  --blue-text: #1d4ed8;
  --accent: #2563eb;
  --card-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --card-shadow-hover: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--text); font-family:'DM Sans',sans-serif; min-height:100vh; line-height:1.5; }

.nav-bar {
  background:var(--frame); border-bottom:1px solid var(--frame-border);
  padding:10px 24px; display:flex; align-items:center; gap:14px;
  font-family:'DM Sans',sans-serif; font-size:14px;
}
.nav-bar a { color:var(--text-on-dark-dim); text-decoration:none; transition:color 0.15s; }
.nav-bar a:hover { color:var(--text-on-dark); }
.nav-bar .nav-logo { display:flex; align-items:center; gap:8px; }
.nav-bar .nav-title { font-weight:700; color:var(--text-on-dark); }
.nav-bar .nav-title span { color:#3b82f6; }
.nav-bar .nav-sep { color:var(--frame-border); }
.nav-bar img { height:28px; }

.header {
  background:var(--frame); border-bottom:1px solid var(--frame-border);
  padding:14px 24px; display:flex; align-items:center; justify-content:space-between;
  position:sticky; top:0; z-index:100;
}
.header-left { display:flex; align-items:center; gap:14px; flex-wrap:wrap; }
.header h1 { font-family:'JetBrains Mono',monospace; font-size:15px; font-weight:700; letter-spacing:-0.5px; color:var(--text-on-dark); }
.header-ref {
  font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--text-on-dark-dim);
  background:rgba(255,255,255,0.08); padding:3px 10px; border-radius:4px; border:1px solid var(--frame-border);
}
.back-btn, .reset-btn {
  background:rgba(255,255,255,0.1); border:1px solid var(--frame-border); color:var(--text-on-dark-dim);
  font-family:'DM Sans',sans-serif; font-size:13px; padding:6px 14px; border-radius:6px;
  cursor:pointer; transition:all 0.15s;
}
.back-btn:hover, .reset-btn:hover { background:rgba(255,255,255,0.15); color:var(--text-on-dark); }
.back-btn { display:none; }

.container { max-width:820px; margin:0 auto; padding:28px 24px 80px; }

.grid-title { font-size:12px; font-weight:600; color:var(--text-on-dark-dim); margin-bottom:14px; letter-spacing:1px; text-transform:uppercase; font-family:'JetBrains Mono',monospace; }
.component-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:10px; }
.comp-tile {
  background:var(--surface); border:1px solid var(--border); border-radius:10px;
  padding:14px 16px; cursor:pointer; transition:all 0.2s;
  display:flex; flex-direction:column; gap:5px; box-shadow:var(--card-shadow);
}
.comp-tile:hover { border-color:var(--accent); box-shadow:var(--card-shadow-hover); transform:translateY(-1px); }
.comp-fig { font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--text-dim); }
.comp-name { font-size:14px; font-weight:700; color:var(--text); overflow-wrap:break-word; }
.comp-critical { font-size:11px; font-weight:600; padding:3px 8px; border-radius:4px; display:inline-block; width:fit-content; }
.crit-red { background:var(--red-bg); color:var(--red-text); border:1px solid var(--red-border); }
.crit-green { background:var(--green-bg); color:var(--green-text); border:1px solid var(--green-border); }
.crit-yellow { background:var(--yellow-bg); color:var(--yellow-text); border:1px solid var(--yellow-border); }

#detailView { display:none; }
.detail-section-label { font-family:'JetBrains Mono',monospace; font-size:10px; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--text-on-dark-dim); margin-bottom:4px; }
.detail-title { font-size:20px; font-weight:700; margin-bottom:4px; color:var(--text-on-dark); }
.detail-subtitle { font-size:12px; color:var(--text-on-dark-dim); font-family:'JetBrains Mono',monospace; margin-bottom:20px; }

.status-box { border-radius:10px; padding:14px 16px; margin-bottom:10px; border:1px solid; box-shadow:var(--card-shadow); }
.status-box h4 { font-family:'JetBrains Mono',monospace; font-size:11px; font-weight:700; letter-spacing:1px; margin-bottom:8px; text-transform:uppercase; }
.status-box ul { list-style:none; padding:0; }
.status-box li { font-size:13px; line-height:1.7; padding-left:20px; position:relative; }
.status-box li::before { position:absolute; left:0; font-weight:700; font-size:11px; }

.box-nogo { background:var(--red-bg); border-color:var(--red-border); }
.box-nogo h4 { color:var(--red); }
.box-nogo li { color:var(--red-text); }
.box-nogo li::before { content:"X "; color:var(--red); }

.box-ok { background:var(--green-bg); border-color:var(--green-border); }
.box-ok h4 { color:var(--green); }
.box-ok li { color:var(--green-text); }
.box-ok li::before { content:"OK "; color:var(--green); }

.box-cond { background:var(--yellow-bg); border-color:var(--yellow-border); }
.box-cond h4 { color:var(--yellow); }
.box-cond li { color:var(--yellow-text); }
.box-cond li::before { content:"~ "; color:var(--yellow); }

.box-info { background:var(--blue-bg); border-color:var(--blue-border); }
.box-info h4 { color:var(--blue); }
.box-info li { color:var(--blue-text); }
.box-info li::before { content:"i "; color:var(--blue); }

.note-box {
  background:var(--surface); border-left:3px solid var(--accent);
  padding:10px 14px; border-radius:0 8px 8px 0; margin-bottom:10px;
  font-size:12px; color:var(--text-secondary); line-height:1.6; box-shadow:var(--card-shadow);
}
.note-box strong { color:var(--text); }

.repair-refs {
  background:var(--surface); border:1px solid var(--border); border-radius:8px;
  padding:12px 16px; margin-bottom:10px; box-shadow:var(--card-shadow);
}
.repair-refs h4 { font-size:11px; font-weight:600; color:var(--text-dim); margin-bottom:6px; font-family:'JetBrains Mono',monospace; }
.repair-refs p { font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--text-secondary); line-height:1.8; }

.fig-container {
  background:#ffffff; border:1px solid var(--border); border-radius:10px;
  padding:14px; margin-bottom:10px; box-shadow:var(--card-shadow);
}
.fig-container img { width:100%; border-radius:6px; }
.fig-container .fig-label {
  font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--text-dim); margin-top:8px; text-align:center;
}

@media(max-width:640px) {
  .component-grid { grid-template-columns:1fr; }
  .header { padding:12px 16px; }
  .header h1 { font-size:13px; }
  .container { padding:16px 14px 40px; }
  .detail-title { font-size:17px; }
}
</style>
</head>
<body>

<div class="nav-bar">
  <a href="index.html" class="nav-logo">
    <img src="logo.webp" alt="Logo">
    <span class="nav-title">MOC <span>Toolbox</span></span>
  </a>
  <span class="nav-sep">|</span>
  <a href="leap-1b.html">Back to LEAP-1B Hub</a>
</div>

<div class="header">
  <div class="header-left">
    <button class="back-btn" id="backBtn" onclick="goHome()">Back</button>
    <h1>Aft Acoustic Panel Inspection</h1>
    <span class="header-ref">AMM 72-21-00-200-802-G00 / G.(3)</span>
  </div>
  <button class="reset-btn" onclick="goHome()">Start Over</button>
</div>

<div class="container">
  <div id="gridView">
    <div class="grid-title">Select a condition to inspect</div>
    <div class="component-grid" id="compGrid"></div>
  </div>
  <div id="detailView"></div>
</div>

<script>
var COMPONENTS = [
  {
    section:"Inner and Outer Surfaces",
    name:"Inner and Outer Surfaces",
    fig:"601 Sheet 22",
    critical:"Tears on carbon plies - not permitted",
    critClass:"crit-red",
    nogo:[
      "Tears, cracks, punctures on carbon plies of inner face - not permitted",
      "Tears, cracks, punctures on carbon plies of outer face - not permitted"
    ],
    ok:[
      "Local blind multi-perforations - permitted",
      "Erosion - any amount on protective coating (inner skin)",
      "Nicks, dents, scratches, flaking on protective coating (inner surface) - any amount",
      "Tears, punctures, cracks on protective coating (inner surface) - any amount",
      "Missing protective coating - permitted"
    ],
    cond:[
      "Erosion on other surfaces - up to 0.007 in. (0.2 mm) depth",
      "Nicks, dents, scratches, impact marks on the cups - up to 0.003 in. (0.1 mm) depth",
      "Nicks, dents, scratches, impact marks on carbon plies of inner face - depth 0.011 in. (0.3 mm), length 0.78 in. (20 mm), width 0.11 in. (3 mm), distance between indications more than 7.88 in. (200 mm)",
      "Nicks, dents, scratches, impact marks on carbon plies of outer face - depth 0.011 in. (0.3 mm), length 0.78 in. (20 mm), width 0.11 in. (3 mm), distance between indications more than 7.88 in. (200 mm)"
    ],
    notes:"The outer surface is only visible if the acoustic panel is removed. If it is installed, do not remove it. Inner face and outer face carbon plies have the same limits. Both are repairable in the limits of the applicable repair.",
    repairs:"72-21-08-300-801-G00 - Acoustic Panel Impact Repair by Filling Up",
    figures:[
      {src:"aft-acoustic-figures/fig601-sh22.png", label:"Fig 601 Sheet 22 - Acoustic Panel Overview, Spacers, Inserts, and Cups"}
    ]
  },
  {
    section:"Local Collapse",
    name:"Local Collapse",
    fig:"601 Sheet 22",
    critical:"Limits on count and spacing",
    critClass:"crit-yellow",
    nogo:[],
    ok:[],
    cond:[
      "Inner face - not more than 5, distance between collapses more than 9.85 in. (250 mm), minimum distance with fixation screw 1.97 in. (50 mm)",
      "Outer face - not more than 5, distance between collapses more than 9.85 in. (250 mm), minimum distance with fixation screw 1.97 in. (50 mm)"
    ],
    notes:"Maximum repairable limit: in the limits of the applicable repair.",
    repairs:"72-21-08-300-801-G00 - Acoustic Panel Impact Repair by Filling Up",
    figures:[
      {src:"aft-acoustic-figures/fig601-sh22.png", label:"Fig 601 Sheet 22 - Acoustic Panel Overview"}
    ]
  },
  {
    section:"Edges",
    name:"Edges of Acoustic Panel",
    fig:"601 Sheet 22",
    critical:"Tears on carbon plies - not permitted",
    critClass:"crit-red",
    nogo:[
      "Tears, cracks, punctures on carbon plies - not permitted"
    ],
    ok:[],
    cond:[
      "Nicks, dents, scratches, impact marks on carbon plies - up to 0.007 in. (0.2 mm) depth on all surfaces",
      "Local collapse of surface - not permitted"
    ],
    notes:"Maximum repairable limit: in the limits of the applicable repair.",
    repairs:"72-21-08-300-801-G00 - Acoustic Panel Impact Repair by Filling Up",
    figures:[
      {src:"aft-acoustic-figures/fig601-sh22.png", label:"Fig 601 Sheet 22 - Acoustic Panel Edge Areas"}
    ]
  },
  {
    section:"Hardware",
    name:"Hardware - Cups, Screws, Spacers",
    fig:"601 Sheets 22, 29",
    critical:"Missing items - not permitted",
    critClass:"crit-red",
    nogo:[
      "Unbonded or missing cup - not permitted",
      "Missing screw - not permitted",
      "Missing spacer - not permitted",
      "Missing acoustic panel - not permitted"
    ],
    ok:[
      "Surface oxidation on screw head - permitted"
    ],
    cond:[],
    notes:"Refer to Figure 601 Sheet 29 for screw locations (18 locations upper, 17 locations lower).",
    repairs:"",
    figures:[
      {src:"aft-acoustic-figures/fig601-sh29.png", label:"Fig 601 Sheet 29 - Screw Locations (18 Upper, 17 Lower)"},
      {src:"aft-acoustic-figures/fig601-sh22.png", label:"Fig 601 Sheet 22 - Typical View of Spacers, Inserts, and Cups"}
    ]
  },
  {
    section:"Shrinkage and Folds",
    name:"Shrinkage and Folds",
    fig:"601 Sheet 20",
    critical:"Within limits",
    critClass:"crit-green",
    nogo:[],
    ok:[],
    cond:[
      "Shrinkage and folds on inner surface - up to 25% cumulated surface, up to 0.039 in. (1 mm) depth"
    ],
    notes:"Refer to Figure 601 Sheet 20 for examples of folds and shrinkage on inner surface of the acoustic panel.",
    repairs:"",
    figures:[]
  }
];

function renderGrid() {
  var html = '';
  COMPONENTS.forEach(function(c, i) {
    html += '<div class="comp-tile" onclick="showDetail(' + i + ')">' +
      '<div class="comp-fig">Fig ' + c.fig + '</div>' +
      '<div class="comp-name">' + c.name + '</div>' +
      '<span class="comp-critical ' + c.critClass + '">' + c.critical + '</span>' +
    '</div>';
  });
  document.getElementById('compGrid').innerHTML = html;
}

function showDetail(idx) {
  var c = COMPONENTS[idx];
  var dv = document.getElementById('detailView');
  document.getElementById('gridView').style.display = 'none';
  dv.style.display = 'block';
  document.getElementById('backBtn').style.display = 'inline-block';
  document.querySelector('.reset-btn').style.display = 'none';

  var html = '<div class="detail-section-label">' + c.section + '</div>' +
    '<div class="detail-title">' + c.name + '</div>' +
    '<div class="detail-subtitle">Figure ' + c.fig + ' | SUBTASK 72-21-00-211-014-G00</div>';

  if (c.nogo.length) {
    html += '<div class="status-box box-nogo"><h4>Not Permitted - No-Go</h4><ul>';
    c.nogo.forEach(function(n) { html += '<li>' + n + '</li>'; });
    html += '</ul></div>';
  }
  if (c.ok.length) {
    html += '<div class="status-box box-ok"><h4>Permitted - Within Limits</h4><ul>';
    c.ok.forEach(function(n) { html += '<li>' + n + '</li>'; });
    html += '</ul></div>';
  }
  if (c.cond.length) {
    html += '<div class="status-box box-cond"><h4>Conditional - Limits Apply</h4><ul>';
    c.cond.forEach(function(n) { html += '<li>' + n + '</li>'; });
    html += '</ul></div>';
  }

  if (c.notes) {
    html += '<div class="note-box"><strong>Controller Notes:</strong> ' + c.notes + '</div>';
  }
  if (c.repairs) {
    html += '<div class="repair-refs"><h4>Repair References</h4><p>' + c.repairs.split('|').join('<br>') + '</p></div>';
  }

  if (c.figures && c.figures.length) {
    c.figures.forEach(function(f) {
      html += '<div class="fig-container"><img src="' + f.src + '" alt="' + f.label + '"><div class="fig-label">' + f.label + '</div></div>';
    });
  }

  dv.innerHTML = html;
  window.scrollTo(0, 0);
}

function goHome() {
  document.getElementById('detailView').style.display = 'none';
  document.getElementById('gridView').style.display = 'block';
  document.getElementById('backBtn').style.display = 'none';
  document.querySelector('.reset-btn').style.display = 'inline-block';
  window.scrollTo(0, 0);
}

renderGrid();
</script>
</body>
</html>
